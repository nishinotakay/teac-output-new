<%= form_with(model: @article, url: url, method: method, local: true) do |f| %>
  <div class="row mt-4">
    <div class="col-12 div-title-form">
      <%= f.text_field :title, placeholder: Article.human_attribute_name(:title), class: "form-control title-form" %>
    </div>
    <div class="col-12 my-2 div-subtitle-form">
      <%= f.text_field :sub_title, placeholder: Article.human_attribute_name(:sub_title), class: "form-control subtitle-form" %>
    </div>
    
    <div class="col-6 editor-side">
      <div class="card card-outline card-info">
        <div class="card-header">
          <h3 class="card-title text-center">エディター</h3>
        </div>
        <div class="card-body">
          <div class="col-12 editor-body">
            <%= f.text_area :content, placeholder: Article.human_attribute_name(:content), cols: 30, rows: 100,
              class: "form-control markdown-editor", data: {admin_id: current_admin.id} %>
          </div>
        </div>
      </div>
    </div>

    <div class="col-6 preview-side">
      <div class="card card-outline card-info d-flex flex-column justify-content-start">
        <div class="card-header">
          <h3 class="card-title">プレビュー</h3>
        </div>
        <div class="card-body col-12">
          <% content = @article.content ? @article.content : "" %>
          <div class="preview form-control" style="overflow: scroll;"></div>
          <div class="text-center div-btns my-3"  style="display: flex; align-items: center; justify-content: center;">
            <%= f.fields_for :articles_categories do |ac| %>
              <%= ac.select :category_id, options_for_select(@categories), { prompt: "カテゴリーまたは一般記事を選択" }, { id: "category-select", class: "form-select ml-2", style: "width: 300px;" } %>
            <% end %>            
            <%= f.submit btn_name, class: "btn btn-primary ml-2" %>
            <%= link_to 'キャンセル', :back, method: :get, class: "btn btn-outline-dark ml-2" if request.referer %>
          </div>
        </div>
      </div>
    </div>
  </div>
<% end %>
