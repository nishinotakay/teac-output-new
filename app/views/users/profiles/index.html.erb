<span style="background: linear-gradient(transparent 98%, #0073ff 0%);">
<% provide(:title,  "プロフィール一覧") %></span>
<div class="container">
  <div class="row">
    <div class="col-12">
      <table class="table table-hover">
        <thead>
          <tr>
            <th><!--アイコンテーブル--></th>
            <th>
              <i class="fas fa-user"></i>
                名前</th>
            <th>
              <i class="fas fa-book-open"></i>
                プログラミング学習開始日</th>
            <th>
              <i class="fas fa-flag"></i>
                プログラミング学習目的</th>
            <th><!--三点リーダーテーブル--></th>
          </tr>
        </thead>
        <tbody>
          <% if @profiles.exists? %>
            <% @profiles.each do |profile| %>
              <tr>
                <td style="padding: 10px">
                  <% image = profile.present? && profile.image.present? ? profile.image : "user_default.png" %>
                  <%= image_tag image , class: "rounded-circle", size: "30x30" %>
                </td>
                <td>
                  <%= profile.user.name %>
                </td>
                <td>
                  <%= profile.learning_start %>
                </td>
                <td>
                  <%= profile.purpose %>
                </td>
                <td>
                  <button class="btn" data-bs-toggle="dropdown" style="width: 66.5px" >︙</button>
                  <ul class="dropdown-menu">
                    <% if profile.user == current_user %>
                      <li><%= link_to "編集", edit_users_profile_path(profile.id), class: "nav-link" %></li>
                    <% end %>
                    <li><%= link_to '詳細', users_profile_path(profile.id), class:"nav-link" %></li>
                  </ul>
                </td>
              </tr>
            <% end %>
          <% else %>
            <%= render 'users/shared/table_without_record' %>
          <% end %>
        </tbody>
      </table>
      <%= paginate @profiles, theme: 'bootstrap-5' %>        
    </div>
  </div>
</div>

